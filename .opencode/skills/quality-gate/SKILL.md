---
name: quality-gate
description: "质量门禁 - 整合测试执行和安全扫描，在关键节点进行质量检查"
---

# Quality Gate - 质量门禁

## 定位

在关键节点（开发完成、部署前）进行质量检查，整合测试执行和安全扫描能力。

## 功能

### 1. 测试执行
- 检测项目测试框架（Jest/Vitest/pytest等）
- 执行测试命令
- 解析测试结果
- 控制台输出测试摘要（个人模式）

### 2. 安全扫描
- SAST静态代码分析（密钥、注入、XSS等）
- SCA依赖漏洞扫描
- 配置安全检查
- 控制台输出安全摘要（个人模式）

## 工作流程

```
被调用（/test 或 /deploy前）
    ↓
执行测试
    ↓
执行安全扫描
    ↓
输出结果摘要
    ↓
判断是否通过门禁
```

## 输出格式

个人模式（控制台）：
```
🧪 质量门禁检查

测试：✓ 45/45 通过 (100%)
安全：✓ 0高危 2中危 0低危

状态：✅ 通过
```

## 与独立技能的区别

- **原test-runner**：生成详细test-report.md
- **原security-scan**：生成详细security-report.md
- **quality-gate**：仅执行检查，输出控制台摘要，不生成详细报告

## 使用场景

- /test 指令：执行测试
- /deploy 前：检查质量和安全
- /do 自治模式：自动验证环节
