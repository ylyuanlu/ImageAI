# /prd - 需求收集

## 描述

通过追问收集用户需求，生成产品文档。包含毒舌追问机制，确保需求清晰、逻辑自洽。

## 前置条件

- **无前置条件**（0-1 模式）
- 或 Product-Spec.md 已存在（迭代模式）

## 输出

- **输出文件**：
  - `Product-Spec.md` - 产品需求文档
  - `Product-Spec-CHANGELOG.md` - 变更记录

## 工作流程

```
用户说出想法
  ↓
主控检测项目状态（0-1模式或迭代模式）
  ↓
产品经理通过追问完善需求细节
  ↓
自动生成 Product-Spec.md
  ↓
自动生成 Product-Spec-CHANGELOG.md
```

## 两种模式

### 0-1 模式（新建项目）

触发条件：Product-Spec.md 不存在

执行步骤：
1. 询问用户的核心想法
2. 追问目标用户群体
3. 追问核心功能列表（至少 3 个）
4. 对每个功能进行细节追问
5. 追问功能优先级
6. 询问是否需要 AI 增强功能
7. 检查逻辑冲突和漏洞
8. 生成产品文档

### 迭代模式（已有项目）

触发条件：Product-Spec.md 存在

执行步骤：
1. 读取现有产品文档
2. 询问用户的新需求或修改意见
3. 将新需求与现有文档进行对比
4. 检测冲突
5. 更新产品文档
6. 更新变更记录

## 毒舌追问示例

产品经理会用直接的方式追问：

- "这个功能的输入是什么？输出是什么？中间有什么处理逻辑？"
- "如果输入异常/网络错误/数据丢失，怎么处理？"
- "如果只能实现 3 个功能，你选哪 3 个？为什么？"
- "你说'大概'，我听不懂。具体是多少？"

## 相关指令

| 指令 | 描述 | 关系 |
|------|------|------|
| `/ui` | 生成 UI 提示词 | 下一步 |
| `/status` | 查看项目进度 | 相关 |
| `/check` | 检查功能完整度 | 相关 |

## 后续操作

产品文档生成后，建议：
1. 使用 `/ui` 生成 UI 提示词
2. 使用 `/status` 查看项目进度

## 示例

**用户**："我要做一个图片处理工具"

**AI**：
```
好的，让我先了解一些细节...

1. 目标用户是谁？年龄段？技术水平？
2. 核心功能有哪些？（至少 3 个）
3. 图片处理的具体功能是什么？
4. 需要用户注册登录吗？
...
```

**用户**：回答所有问题...

**AI**：
```
✓ Product-Spec.md 已生成
✓ Product-Spec-CHANGELOG.md 已生成

建议下一步：
- 使用 /ui 生成 UI 设计提示词
```
